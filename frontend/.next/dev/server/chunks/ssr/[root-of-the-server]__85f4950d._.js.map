{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/StrikeIQ/frontend/components/AuthScreen.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { AuthRequiredData } from '../types/dashboard';\r\n\r\ninterface AuthScreenProps {\r\n  authData: AuthRequiredData;\r\n}\r\n\r\nfunction AuthScreen({ authData }: AuthScreenProps) {\r\n  const { checkAuth } = useAuth();\r\n\r\n  const handleReconnect = () => {\r\n    // Stop any existing polling\r\n    const event = new CustomEvent('stopPolling');\r\n    window.dispatchEvent(event);\r\n    \r\n    // SECURITY: No frontend state generation\r\n    // Backend will generate and manage state\r\n    window.location.href = authData.login_url;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\r\n      <div className=\"max-w-md w-full mx-4\">\r\n        <div className=\"glass-morphism rounded-2xl p-8 text-center\">\r\n          {/* Icon */}\r\n          <div className=\"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n            <svg \r\n              className=\"w-10 h-10 text-white\" \r\n              fill=\"none\" \r\n              stroke=\"currentColor\" \r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path \r\n                strokeLinecap=\"round\" \r\n                strokeLinejoin=\"round\" \r\n                strokeWidth={2} \r\n                d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" \r\n              />\r\n            </svg>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h1 className=\"text-3xl font-bold text-white mb-2\">\r\n            Authentication Required\r\n          </h1>\r\n\r\n          {/* Message */}\r\n          <p className=\"text-gray-300 mb-8 leading-relaxed\">\r\n            {authData.message}\r\n          </p>\r\n\r\n          {/* Status Badge */}\r\n          <div className=\"inline-flex items-center gap-2 bg-orange-500/20 text-orange-400 px-4 py-2 rounded-full mb-8\">\r\n            <div className=\"w-2 h-2 bg-orange-400 rounded-full animate-pulse\"></div>\r\n            <span className=\"text-sm font-medium\">Session Expired</span>\r\n          </div>\r\n\r\n          {/* Reconnect Button */}\r\n          <button\r\n            onClick={handleReconnect}\r\n            className=\"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-orange-500/25\"\r\n          >\r\n            <div className=\"flex items-center justify-center gap-3\">\r\n              <svg \r\n                className=\"w-5 h-5\" \r\n                fill=\"none\" \r\n                stroke=\"currentColor\" \r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path \r\n                  strokeLinecap=\"round\" \r\n                  strokeLinejoin=\"round\" \r\n                  strokeWidth={2} \r\n                  d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" \r\n                />\r\n              </svg>\r\n              <span>Get Authorization</span>\r\n            </div>\r\n          </button>\r\n\r\n          {/* Help Text */}\r\n          <div className=\"mt-6 text-sm text-gray-400\">\r\n            <p>You'll be redirected to the authorization server.</p>\r\n            <p className=\"mt-1\">After authorization, you'll be returned here automatically.</p>\r\n          </div>\r\n\r\n          {/* Timestamp */}\r\n          <div className=\"mt-8 pt-6 border-t border-gray-700\">\r\n            <p className=\"text-xs text-gray-500\">\r\n              Detected at: {new Date(authData.timestamp).toLocaleString()}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(AuthScreen);\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,SAAS,WAAW,EAAE,QAAQ,EAAmB;IAC/C,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,4HAAO;IAE7B,MAAM,kBAAkB;QACtB,4BAA4B;QAC5B,MAAM,QAAQ,IAAI,YAAY;QAC9B,OAAO,aAAa,CAAC;QAErB,yCAAyC;QACzC,yCAAyC;QACzC,OAAO,QAAQ,CAAC,IAAI,GAAG,SAAS,SAAS;IAC3C;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCAEb,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAO;4BACP,SAAQ;sCAER,cAAA,qKAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;;;;;;kCAMR,qKAAC;wBAAG,WAAU;kCAAqC;;;;;;kCAKnD,qKAAC;wBAAE,WAAU;kCACV,SAAS,OAAO;;;;;;kCAInB,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;;;;;;0CACf,qKAAC;gCAAK,WAAU;0CAAsB;;;;;;;;;;;;kCAIxC,qKAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,qKAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;8CAGN,qKAAC;8CAAK;;;;;;;;;;;;;;;;;kCAKV,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;0CAAE;;;;;;0CACH,qKAAC;gCAAE,WAAU;0CAAO;;;;;;;;;;;;kCAItB,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BAAE,WAAU;;gCAAwB;gCACrB,IAAI,KAAK,SAAS,SAAS,EAAE,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvE;qDAEe,8GAAK,CAAC,IAAI,CAAC"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///D:/StrikeIQ/frontend/pages/auth/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport AuthScreen from '../../components/AuthScreen';\r\nimport { AuthRequiredData } from '../../types/dashboard';\r\n\r\nexport default function AuthPage() {\r\n  const [authData, setAuthData] = useState<AuthRequiredData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Get auth data from URL params or localStorage\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const error = urlParams.get('error');\r\n    const message = urlParams.get('message') || 'Authentication required to access market data';\r\n    \r\n    // Default auth data\r\n    const defaultAuthData: AuthRequiredData = {\r\n      session_type: 'AUTH_REQUIRED',\r\n      mode: 'AUTH',\r\n      login_url: 'https://api.upstox.com/v2/login/authorization/dialog?response_type=code&client_id=53c878a9-3f5d-44f9-aa2d-2528d34a24cd&redirect_uri=http://localhost:8000/api/v1/auth/upstox/callback',\r\n      message: error || message,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n    setAuthData(defaultAuthData);\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\r\n        <div className=\"text-white text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p>Loading authentication...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!authData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\r\n        <div className=\"text-white text-center\">\r\n          <p>Error: Authentication data not available</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <AuthScreen authData={authData} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAGe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAA0B;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,IAAA,gHAAS,EAAC;QACR,gDAAgD;QAChD,MAAM,YAAY,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;QAC5D,MAAM,QAAQ,UAAU,GAAG,CAAC;QAC5B,MAAM,UAAU,UAAU,GAAG,CAAC,cAAc;QAE5C,oBAAoB;QACpB,MAAM,kBAAoC;YACxC,cAAc;YACd,MAAM;YACN,WAAW;YACX,SAAS,SAAS;YAClB,WAAW,IAAI,OAAO,WAAW;QACnC;QAEA,YAAY;QACZ,WAAW;IACb,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;;;;;;kCACf,qKAAC;kCAAE;;;;;;;;;;;;;;;;;IAIX;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;8BAAE;;;;;;;;;;;;;;;;IAIX;IAEA,qBAAO,qKAAC,6HAAU;QAAC,UAAU;;;;;;AAC/B"}}]
}